
<!--  наследуемся от шаблона default.html, который мы создавали для flatpages -->
{% extends 'flatpages/default.html' %}
{% load custom_filters %}
<!-- Название у нас будет post -->
{% block title %}
Post
{% endblock title %}

<!-- В контенте на странице мы выводим все посты -->
{% block content %}
    <h1>Посты</h1>
    <p>Всего постов: {{ posts | length }}</p>
    <hr>
    {% if posts %}
        <table> <!-- Начинаем описывать таблицу -->
            <tr> <!-- Добавляем строку -->
                <td> <!-- Добавляем ячейку в строку -->
                    title
                </td>
                <td> <!-- Добавляем ещё одну ячейку в строку и так далее -->
                    created_at
                </td>
                <td>
                    text
                </td>
            </tr> <!-- Не забываем закрыть HTML-тег строки -->
            {% for p in posts %}
            </tr>
                <td>{{ p.title }}</td>
                <td>{{ p.created_at | date:"d.m.Y" }}</td>
                <td>{{ p.text | truncatechars:20 }}</td>
            </tr>
            {% endfor %}
        </table> <!-- ... и таблицы -->
    {% else %}
        <h2>Постов нет!</h2>
    {% endif %}
{% endblock content %}